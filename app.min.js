const hamburger=document.getElementById("hamburger-btn"),navPrimary=document.getElementById("nav-primary");function updateCartCount(){const t=(JSON.parse(localStorage.getItem("cart"))||[]).reduce(((t,e)=>t+e.qty),0);document.querySelectorAll("#cart-count").forEach((e=>e.textContent=t))}function showAddFeedback(t){const e=document.getElementById("add-feedback");document.getElementById("feedback-text").textContent=`"${t}" added to cart!`,e.classList.remove("hidden"),e.classList.add("show"),setTimeout((()=>{e.classList.remove("show"),e.classList.add("hidden")}),1800)}function addToCart(t){const e="cart",a=JSON.parse(localStorage.getItem(e))||[],{id:n,name:d,price:o,image:i,variation:c=null,qty:r=1}=t,s=a.find((t=>t.id===n&&t.variation===c));s?s.qty=Math.max(1,s.qty+r):a.push({id:n,name:d,price:o,image:i,variation:c,qty:r}),localStorage.setItem(e,JSON.stringify(a)),updateCartCount(),showAddFeedback(d)}async function loadFeatured(){try{const t=await fetch("https://fakestoreapi.com/products?limit=4"),e=await t.json();document.getElementById("featured-grid").innerHTML=e.map((t=>`\n      <div class="product-card">\n        <a href="product.html?id=${t.id}">\n          <img src="${t.image}" alt="${t.title}">\n        </a>\n        <div class="product-info">\n          <h3>${t.title}</h3>\n          <p class="price">â‚¹${(75*t.price).toFixed(2)}</p>\n          <button class="add-cart" onclick='addToCart({\n            id:${t.id},name:"${t.title}",price:${(75*t.price).toFixed(2)},\n            image:"${t.image}",qty:1\n          })'>Add to Cart</button>\n        </div>\n      </div>\n    `)).join("")}catch(t){console.error(t)}}hamburger.addEventListener("click",(()=>{navPrimary.classList.toggle("open")})),document.addEventListener("DOMContentLoaded",(()=>{loadFeatured(),updateCartCount()}));